!function(a,b,c,d){"use strict";function e(c){if(c=c||{},this.options=a.extend({date:"DMY",dateId:2,time:"24",timezone:"local",utcAsString:"UTC",localAsString:"local"},c),this.dateFormats=[["dddd, DD. MMMM YYYY","dddd, MMMM DD, YYYY","dddd, YYYY MMMM DD"],["ddd, DD. MMMM YYYY","ddd, MMMM DD, YYYY","ddd, YYYY MMMM DD"],["ddd, DD. MMM YYYY","ddd, MMM DD, YYYY","ddd, YYYY MMM DD"],["ddd, DD. MMM YY","ddd, MMM DD, YY","ddd, YY MMM DD"],["DD. MMM YYYY","MMM DD, YYYY","YYYY MMM DD"],["DD. MMM YY","MMM DD, YY","YY MMM DD"],["DD/MM/YYYY","MM/DD/YYYY","YYYY/MM/DD"],["DD/MM/YY","MM/DD/YY","YY/MM/DD"]],this.maxDateId=this.dateFormats.length-1,this.addTimezone=function(a){a.momentTzId=a.momentTzId||a.id;var c=0;switch(a.momentTzId){case"local":c=(new Date).getTimezoneOffset();break;case"utc":c=null;break;default:c=b.moment.tz.zone(a.momentTzId).parse(Date.UTC())}if(a.fullName=a.name,null!==c){a.fullName+=" (UTC"+(0>c?"+":"-"),c=Math.abs(c);var d=Math.floor(c/60),e=c%60;a.fullName+=(10>d?"0":"")+d+":"+(10>e?"0":"")+e+")"}this.timezones.push(a)},this.timezones=[],this.addTimezone({id:"utc",name:this.options.utcAsString}),this.addTimezone({id:"local",name:this.options.localAsString}),c.timezones)for(var d=0;d<c.timezones.length;d++)this.addTimezone(c.timezones[d]);this.setFormat=function(b){a.extend(this.options,b);var c=["DMY","MDY","YMD"].indexOf(this.options.date);this.options.dateId=Math.max(0,Math.min(this.options.dateId,this.maxDateId)),this.formatString=this.dateFormats[this.options.dateId][c],this.timezone=this.timezones[0];for(var d=0;d<this.timezones.length;d++)if(this.timezones[d].id==this.options.timezone){this.timezone=this.timezones[d];break}this.momentTzId=this.timezone.momentTzId,this.timeFormat="24"==this.options.time?"HH:mm":"hh:mma"},this.setFormat(this.options),this.tzMoment=function(a,b){return"local"==b?a.local():"utc"==b?a.utc():a.tz(b)},this.dateAsString=function(a,b){return this._asString(a,!1,b)},this.datetimeAsString=function(a,b){return this._asString(a,!0,b)},this._asString=function(b,c,d){var e=a.extend({},this.options);this.setFormat(d);var f=this.formatString+(c?" "+this.timeFormat:""),g=this.tzMoment(b,this.momentTzId).format(f);return this.options=a.extend({},e),g}}b.DateTimeFormat=e}(jQuery,this,document);